<div class="energy-efficiency-recommendation-card">
    <div class="main-row">
        <div class="recommendation-basic-details">
            <div class="heading">{{recommendation.headline}}</div>
            <div class="summary-row">
                <div class="summary">
                    {{recommendation.summary}}
                </div>
            </div>
            <div class="more-detail-button" [class.expanded]="isExpandedView" (click)="toggleExpandedView()">
                More information <i class="arrow"></i>
            </div>
        </div>

        <div class="expanded-view-row" [class.expanded]="isExpandedView">
            <div class="steps" >
                <div class="recommendation-step-card-left">
                    <div class="step-headline-div" *ngFor="let step of recommendation.grant.steps; let i = index">
                    <input type="radio" name="cards" class="step-headline" [id]="'step-headline-'+stepIndex+'-'+i" (click)="toggleIsExpanded(i)" [class.expanded]="isExpanded===i">
                    <div class="expand-step-icon" [class.expanded]="isExpanded===i"
                         title="See more details" [inlineSVG]="'controls/expand-arrow.svg'"></div>
                    <label [for]="'step-headline-'+stepIndex+'-'+i" class="step-label" [class.expanded]="isExpanded===i">
                        {{step.headline}}
                    </label>
                    </div>
                </div>
                <div class="recommendation-step-card-right">
                    <app-recommendation-step-card *ngFor="let step of recommendation.grant.steps; let i = index"
                            [stepChecked]="isExpanded"
                            [step]="step"
                            [stepIndex]="i"
                            (onAnalyticsEvent)="sendStepEventToAnalytics($event, recommendation.grant.grantId)"
                    ></app-recommendation-step-card>
                </div>
            </div>
        </div>
    </div>
</div>